# Streamlit App ç®€åŒ–æ”¹é€  - 2025-11-13_10-52-08

## ä»»åŠ¡æè¿°

å½“å‰çš„ gradio_app.py å·²ç»æŒ‰ç…§è¦æ±‚ä¿®æ”¹å®Œæˆï¼Œç°åœ¨éœ€è¦ä¿®æ”¹ streamlit_app.pyï¼ŒæŒ‰ç…§ gradio çš„æ–¹å¼ä¿®æ”¹ï¼Œå»æ‰æ²¡ç”¨çš„ä¸œè¥¿ã€‚

### å…·ä½“è¦æ±‚ï¼š

1. **ç®€åŒ–åŠŸèƒ½**ï¼šæŒ‰ç…§ gradio çš„æ–¹å¼å»æ‰å¤æ‚åŠŸèƒ½
2. **æ—¥æœŸé€‰æ‹©å™¨**ï¼šå½“å‰ gradio_app ä¸­çš„æ—¥æœŸæ˜¯ä¸‹æ‹‰å¼çš„ï¼ˆå› ä¸º gradio ä¸æ”¯æŒå¼¹çª—å¼ï¼‰ï¼Œä½†æ˜¯ streamlit æ˜¯æ”¯æŒçš„ï¼Œéœ€è¦ä¿®æ”¹ä¸ºå¼¹çª—å¼æ—¥æœŸé€‰æ‹©å™¨
3. **åˆ†ç±»å¸ƒå±€**ï¼šæŠŠ arxiv çš„åˆ†ç±»æ”¾åˆ°ä¾§è¾¹æ ï¼ˆsidebarï¼‰ä¸­ï¼Œåœ¨ä¸»é¡µé¢ä¸­æ˜¾ç¤ºé€‰æ‹©çš„åˆ†ç±»

## ä¸»è¦ä¿®æ”¹å†…å®¹

### 1. ç®€åŒ–åº”ç”¨ç»“æ„

**åŸç‰ˆé—®é¢˜ï¼š**
- å¤šé¡µé¢å¯¼èˆªï¼ˆHome, arXiv, Search, Starredï¼‰
- Starred papers åŠŸèƒ½
- Viewed papers åŠŸèƒ½
- åç«¯ API è°ƒç”¨

**ç®€åŒ–åï¼š**
- å•é¡µé¢åº”ç”¨
- å»é™¤ starred å’Œ viewed åŠŸèƒ½
- æ”¹ä¸ºä»æœ¬åœ° JSON æ–‡ä»¶åŠ è½½æ•°æ®ï¼ˆä¸ gradio_app.py ä¸€è‡´ï¼‰
- ç®€åŒ–ä»£ç ç»“æ„ï¼Œåªä¿ç•™æ ¸å¿ƒåŠŸèƒ½ï¼šæµè§ˆå’Œæœç´¢

### 2. å¼¹çª—å¼æ—¥æœŸé€‰æ‹©å™¨

**å®ç°æ–¹å¼ï¼š**
```python
selected_date = st.date_input(
    "Select a date to view papers",
    value=datetime.now(),
    max_value=datetime.now(),
    min_value=datetime.now() - timedelta(days=365),
    key="date_picker"
)
```

**ä¼˜ç‚¹ï¼š**
- Streamlit åŸç”Ÿæ”¯æŒå¼¹çª—å¼æ—¥æœŸé€‰æ‹©å™¨
- ç”¨æˆ·ä½“éªŒæ›´å¥½ï¼Œæ¯” gradio çš„ä¸‹æ‹‰æ¡†æ›´ç›´è§‚
- æ”¯æŒæ—¥æœŸèŒƒå›´é™åˆ¶

### 3. ä¾§è¾¹æ åˆ†ç±»é€‰æ‹©

**å¸ƒå±€è°ƒæ•´ï¼š**
- å°† arXiv åˆ†ç±»é€‰æ‹©å™¨ç§»åˆ°ä¾§è¾¹æ 
- ä½¿ç”¨å¤é€‰æ¡†ï¼ˆcheckboxï¼‰è¿›è¡Œå¤šé€‰
- ä¸»é¡µé¢é¡¶éƒ¨æ˜¾ç¤ºå½“å‰é€‰æ‹©çš„åˆ†ç±»ï¼ˆinfo æç¤ºæ¡†ï¼‰

**ä»£ç ç¤ºä¾‹ï¼š**
```python
# ä¾§è¾¹æ 
with st.sidebar:
    st.subheader("ğŸ”¬ arXiv Categories")
    for cat_name, cat_code in ARXIV_CATEGORIES.items():
        if st.checkbox(cat_name, value=is_selected, key=f"cat_{cat_code}"):
            selected_cats.append(cat_code)

# ä¸»é¡µé¢æ˜¾ç¤º
if st.session_state.selected_categories:
    st.info(f"ğŸ”¬ **Current Categories:** {', '.join(st.session_state.selected_categories)}")
```

### 4. æ•°æ®åŠ è½½æ–¹å¼ç»Ÿä¸€

**ä¸ gradio_app.py ä¿æŒä¸€è‡´ï¼š**
- ä»æœ¬åœ° JSON æ–‡ä»¶åŠ è½½è®ºæ–‡æ•°æ®
- æ–‡ä»¶å‘½åæ ¼å¼ï¼š`papers_YYYY-MM-DD.json`
- æ•°æ®ç›®å½•ï¼š`./papers_data`
- ä½¿ç”¨ç›¸åŒçš„è¿‡æ»¤å’Œæœç´¢å‡½æ•°

## åŠŸèƒ½å¯¹æ¯”

| åŠŸèƒ½ | åŸç‰ˆ Streamlit | ç®€åŒ–å Streamlit | Gradio ç‰ˆæœ¬ |
|------|---------------|-----------------|-------------|
| é¡µé¢ç»“æ„ | å¤šé¡µé¢ï¼ˆ4ä¸ªï¼‰ | å•é¡µé¢ | å•é¡µé¢ |
| æ—¥æœŸé€‰æ‹© | å¼¹çª—å¼ | å¼¹çª—å¼ âœ… | ä¸‹æ‹‰æ¡† |
| åˆ†ç±»é€‰æ‹© | ä¾§è¾¹æ å±•å¼€å™¨ | ä¾§è¾¹æ å¤é€‰æ¡† âœ… | ä¸»é¡µé¢ä¸‹æ‹‰æ¡† |
| æœç´¢åŠŸèƒ½ | âœ… | âœ… | âœ… |
| è®ºæ–‡æ˜¾ç¤º | å¡ç‰‡å¼ | å¡ç‰‡å¼ | è¡¨æ ¼å¼ |
| Starred | âœ… | âŒ å·²ç§»é™¤ | âŒ |
| Viewed | âœ… | âŒ å·²ç§»é™¤ | âŒ |
| æ•°æ®æ¥æº | åç«¯ API | æœ¬åœ° JSON | æœ¬åœ° JSON |

## ä»£ç ç»“æ„

### æ ¸å¿ƒå‡½æ•°ï¼š

1. **load_papers_from_json(date_str)** - ä» JSON æ–‡ä»¶åŠ è½½è®ºæ–‡
2. **filter_papers_by_categories(papers, categories)** - æŒ‰åˆ†ç±»è¿‡æ»¤è®ºæ–‡
3. **search_papers(query, papers)** - æœç´¢è®ºæ–‡
4. **render_paper_card(paper)** - æ¸²æŸ“è®ºæ–‡å¡ç‰‡
5. **main()** - ä¸»åº”ç”¨å…¥å£

### Session Stateï¼š

```python
st.session_state.selected_categories  # é€‰ä¸­çš„åˆ†ç±»åˆ—è¡¨
```

## UI å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Sidebar                    â”‚  Main Page                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“š Cool Papers       â”‚  â”‚  â”‚ ğŸ“š Cool Papers       â”‚  â”‚
â”‚  â”‚ Simplified Interface â”‚  â”‚  â”‚ Paper Browser &      â”‚  â”‚
â”‚  â”‚                      â”‚  â”‚  â”‚ Search               â”‚  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ ğŸ”¬ arXiv Categories  â”‚  â”‚  â”‚ ğŸ”¬ Current Categoriesâ”‚  â”‚
â”‚  â”‚ â˜‘ AI (cs.AI)         â”‚  â”‚  â”‚ (Info Box)           â”‚  â”‚
â”‚  â”‚ â˜‘ ML (cs.LG)         â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”‚ â˜ CV (cs.CV)         â”‚  â”‚  â”‚ ğŸ“… Date Picker       â”‚  â”‚
â”‚  â”‚ â˜ CL (cs.CL)         â”‚  â”‚  â”‚ (Popup Calendar)     â”‚  â”‚
â”‚  â”‚ ...                  â”‚  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚  â”‚ ğŸ” Search Box        â”‚  â”‚
â”‚  â”‚ ğŸ“‚ Selected: 2       â”‚  â”‚  â”‚ [Search Button]      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚                             â”‚  â”‚ ğŸ“„ Paper Cards       â”‚  â”‚
â”‚                             â”‚  â”‚ ...                  â”‚  â”‚
â”‚                             â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ä¼˜åŠ¿æ€»ç»“

1. **ä»£ç ç®€æ´**ï¼šä» 514 è¡Œå‡å°‘åˆ°çº¦ 300 è¡Œ
2. **ç”¨æˆ·ä½“éªŒ**ï¼š
   - å¼¹çª—å¼æ—¥æœŸé€‰æ‹©å™¨æ›´ç›´è§‚
   - ä¾§è¾¹æ åˆ†ç±»ä¸€ç›®äº†ç„¶
   - ä¸»é¡µé¢ä¿¡æ¯æ¸…æ™°é›†ä¸­
3. **ç»´æŠ¤æ€§**ï¼š
   - å•é¡µé¢é€»è¾‘ç®€å•
   - ä¸ gradio ç‰ˆæœ¬æ•°æ®åŠ è½½æ–¹å¼ä¸€è‡´
   - æ˜“äºè°ƒè¯•å’Œæ‰©å±•

## æ–‡ä»¶ä½ç½®

- ä¿®æ”¹æ–‡ä»¶ï¼š`/workspace/frontend/streamlit_app.py`
- æ•°æ®ç›®å½•ï¼š`/workspace/frontend/papers_data/`
- ç¤ºä¾‹æ•°æ®ï¼š`/workspace/frontend/papers_data/papers_2025-11-13.json`

## ä½¿ç”¨æ–¹æ³•

```bash
cd /workspace/frontend
streamlit run streamlit_app.py
```

æˆ–ä½¿ç”¨ Dockerï¼š

```bash
docker-compose up streamlit
```

## æ³¨æ„äº‹é¡¹

1. ç¡®ä¿ `papers_data` ç›®å½•å­˜åœ¨ä¸”åŒ…å« JSON æ ¼å¼çš„è®ºæ–‡æ•°æ®
2. JSON æ–‡ä»¶å‘½åæ ¼å¼å¿…é¡»ä¸º `papers_YYYY-MM-DD.json`
3. è®ºæ–‡æ•°æ®ç»“æ„åº”åŒ…å«ï¼štitle, authors, abstract, categories, url, pdf_url, published_date

## ä¸‹ä¸€æ­¥ä¼˜åŒ–å»ºè®®

1. æ·»åŠ è®ºæ–‡æ•°é‡é™åˆ¶æ§åˆ¶ï¼ˆå¦‚ gradio ç‰ˆæœ¬ï¼‰
2. æ·»åŠ æ’åºåŠŸèƒ½ï¼ˆæŒ‰æ—¥æœŸã€ç›¸å…³åº¦ç­‰ï¼‰
3. ä¼˜åŒ–æœç´¢ç®—æ³•ï¼ˆå¯é€‰é›†æˆ Tantivyï¼‰
4. æ·»åŠ å¯¼å‡ºåŠŸèƒ½ï¼ˆCSV, JSONï¼‰
5. æ·»åŠ æ·±è‰²æ¨¡å¼æ”¯æŒ
